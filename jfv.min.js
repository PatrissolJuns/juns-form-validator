function emptyChecker(e){return console.log("element.value.length = ",e.value.length),e.value.length>510?[!1,"Please enter at most 510 character(s)"]:[!0,""]}function emailChecker(e){return!0===/^[a-z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,6}$/i.test(e.value)?[!0,""]:[!1,"Please enter a valid email address"]}function phoneChecker(e){let t=e.value.length;return null!=$(e).jfv("optional")&&""===e.value?[!0,""]:t<9||t>9?[!1,"Le numéro doit avoir exactement 9 chiffres"]:/^(2|6)[0-9]{8}$/gi.test(e.value)?[!0,""]:[!1,"Veuillez entrer un numéro au format camerounais"]}function numberChecker(e){let t=[!0,""],a=/^[+-]?\d+(\.\d+)?$/.test(e.value)?[!0,""]:[!1,"Please enter a number"];if($(e).jfv("min")||$(e).jfv("max")){let a=Number(e.value),r=Number($(e).jfv("min"))?Number($(e).jfv("min")):2,i=Number($(e).jfv("max"))?Number($(e).jfv("max")):255;t=a>=r&&a<=i?[!0,""]:[!1,`Please enter a number between ${r} and ${i}`]}else if($(e).jfv("equal")){let a=Number(e.value),r=Number($(e).jfv("equal"))?Number($(e).jfv("equal")):10;t=a===r?[!0,""]:[!1,`Please enter exactly the number ${r}`]}return!a[0]&&t[0]?a:a[0]&&!t[0]?t:a[0]||t[0]?[!0,""]:t}function requiredChecker(e){return e.value.length<=0?[!1,"This field is required"]:[!0,""]}function minMaxChecker(e){let t=Number(e.value.length),a=Number($(e).jfv("min"))?Number($(e).jfv("min")):2,r=Number($(e).jfv("max"))?Number($(e).jfv("max")):255;return t<a?[!1,`Please enter at least ${a} character(s)`]:t>r?[!1,`Please enter at most ${a} character(s)`]:[!0,""]}function equalChecker(e){return Number(e.value.length)===(Number($(e).jfv("equal"))?Number($(e).jfv("equal")):2)?[!0,""]:[!1,`Please enter excatly ${minLength} character(s)`]}function passwordConfirmationChecker(e){let t=document.getElementById($(e).jfv("ref")?$(e).jfv("ref"):"password");return e.value!==t.value?[!1,"Password must be the same"]:[!0,""]}!function(e){$.fn.attr=function(){if(0===arguments.length){if(0===this.length)return null;var t={};return $.each(this[0].attributes,function(){this.specified&&(t[this.name]=this.value)}),t}return e.apply(this,arguments)}}($.fn.attr),$.fn.jfv,$.fn.jfv=function(){if(null==this)return 0===arguments.length?[]:void 0;if(0===arguments.length){let e=Object.entries(this[0].attributes).map(e=>[e[1].name,e[1].value]).filter(e=>/jfv/.test(e[0]));return 0===e.length?[]:e.map(e=>e[0].replace("jfv-",""))}if(1===arguments.length){let e=new RegExp("jfv-"+arguments[0]),t=Object.entries(this[0].attributes).map(e=>[e[1].name,e[1].value]).filter(t=>e.test(t[0]));if(0===t.length)return;return t[0][1]}return[]};const validationCLass={input:["jfv-input-valid","jfv-input-invalid","jfv-input-information"],label:["jfv-label-valid","jfv-label-invalid","jfv-label-information"]};function setValidIndicator(e){if(e.classList.remove(validationCLass.input[1]),e.classList.remove(validationCLass.input[2]),e.classList.add(validationCLass.input[0]),$(e).jfv("label")){let t=document.getElementById($(e).jfv("label"));try{t.classList.remove(validationCLass.label[1]),t.classList.remove(validationCLass.label[2]),t.classList.add(validationCLass.label[0])}catch(e){}}}function setInvalidIndicator(e,t,a,r=!1){if(r?(e.classList.remove(validationCLass.input[2]),e.classList.remove(validationCLass.input[0]),e.classList.add(validationCLass.input[1])):(e.classList.remove(validationCLass.input[1]),e.classList.remove(validationCLass.input[0]),e.classList.add(validationCLass.input[2])),$(e).jfv("label"))try{let t=document.querySelector("label[for="+$(e).jfv("label")+"]");t||(t=document.getElementById($(e).jfv("label"))),r?(t.classList.remove(validationCLass.label[2]),t.classList.remove(validationCLass.label[0]),t.classList.add(validationCLass.label[1])):(t.classList.remove(validationCLass.label[1]),t.classList.remove(validationCLass.label[0]),t.classList.add(validationCLass.label[2]))}catch(e){}setInvalidErrorMessage(e,t,r,a),e.scrollIntoView({block:"center",behavior:"smooth"})}function setInvalidErrorMessage(e,t,a,r){let i=document.createElement("h6");i.classList.add("jfv-display-error-message"),i.innerHTML=t,insertAfter(i,e,r),a?(i.classList.remove(validationCLass.label[2]),i.classList.add(validationCLass.label[1])):(i.classList.remove(validationCLass.label[1]),i.classList.add(validationCLass.label[2]))}function insertAfter(e,t,a=!1){a?insertAfter(e,t.parentNode):t.parentNode.insertBefore(e,t.nextSibling)}function removeErrorMessage(){for(;$(".jfv-display-error-message").length>0;)try{$(".jfv-display-error-message").remove()}catch(e){console.log("error while removing")}}function secondTypeValidator(e){let t=$(e).jfv("type");return"required"===t?requiredChecker(e):"empty"===t?emptyChecker(e):"range"===t?minMaxChecker(e):"equal"===t?equalChecker(e):"number"===t?numberChecker(e):[!0,""]}function inputValidator(e,t=!1){let a=[!0,""],r=e.type,i=!1;return removeErrorMessage(),e.addEventListener("blur",function(){removeErrorMessage()}),"INPUT"===e.tagName?$(e).jfv("optional")&&""===e.value?a=[!0,""]:"email"===r?a=emailChecker(e):"number"===r?a=numberChecker(e):$(e).jfv("type")&&"password"===$(e).jfv("type")?(i=!0,a="password_confirmation"===e.name?passwordConfirmationChecker(e):minMaxChecker(e)):"text"===r&&$(e).jfv("type")&&(a=secondTypeValidator(e)):"TEXTAREA"===e.tagName?$(e).jfv("type")&&(a=secondTypeValidator(e)):a=(e.tagName,[!0,""]),!0===a[0]?setValidIndicator(e):setInvalidIndicator(e,a[1],i,t),a[0]}function validator(e,t=!1){let a=[];if(void 0!==e&&"FORM"===e.tagName){let r=e.querySelectorAll("input, textarea");for(let e in Object.keys(r).filter(e=>!0===/\d/.test(e))){let i=r[e];$(i).jfv()!==[]&&($(i).jfv("validate")&&"false"!==$(i).jfv("validate")||!$(i).jfv("validate"))&&"hidden"!==i.type&&"file"!==i.type&&(i.addEventListener("focus",function(){inputValidator(i)}),i.addEventListener("keyup",function(){inputValidator(i)}),t&&(inputValidator(i,!0)?a.push(!0):a.push(!1)))}return a.every(e=>!0===e)}}function runValidator(){let e=$(".jfv-form"),t=!1;for(let a in Object.keys(e).filter(e=>!0===/\d/.test(e)))validator(e[a],!1),$(e[a]).jfv("ajax")&&"true"===$(e[a]).jfv("ajax")&&(t=!0),e[a].addEventListener("submit",function(r){r.preventDefault(),validator(e[a],!0)?t||r.currentTarget.submit():r.stopImmediatePropagation()})}runValidator();