var _class,_temp,_class2,_temp2;function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}const MARQUEE_BEGIN="${",MARQUEE_END="}",validationCLass={input:["jfv-input-valid","jfv-input-invalid","jfv-input-information"],label:["jfv-label-valid","jfv-label-invalid","jfv-label-information"]},JFV={Extractor:class{constructor(a){this.str=a}get getParams(){let a=[],b={};try{return /\${/.test(this.str)&&this.str.split("${").slice(1).map(c=>{if(/}/.test(c))a.push(c.split("}")[0]);else throw b}),a}catch(a){if(a!==b)throw a;else return}}isExist(a){let b=this.getParams;return b?b.includes(a):void 0}setValue(a,b){if(this.isExist(a)){this.str=this.str.replace(MARQUEE_BEGIN+a+MARQUEE_END,b)}return this}get getValue(){return this.str}reset(a){return this.str=a,this}isFullyParsed(){return!/\${/ig.test(this.str)&&!new RegExp(MARQUEE_END,"ig").test(this.str)}},ErrorMessage:(_temp=_class=class ErrorMessage{constructor(){this.currentLanguage=navigator.language||navigator.userLanguage;const a="Unknown language "+this.currentLanguage;try{if(!Object.keys(this.constructor.errorJSON).includes(this.currentLanguage))throw new Error(a)}catch(a){throw a}}getValueOfKey(a){let b,c=a,d=this.constructor.errorJSON[this.currentLanguage];if(/^((\w+)\.)+\w+$|^(\w+)$/.test(c))for(b=d;""!==c;){const a=c.search(/\./);if(-1!==a){const e=c.slice(0,a),f=c.slice(a+1);try{b=d[e]}catch(a){return b}d=b,c=f}else b=b[c],c=""}return b}setLanguage(a){try{if(Object.keys(this.constructor.errorJSON).includes(a))this.currentLanguage=a;else throw new Error("Unknown language "+a)}catch(a){throw a}return this}},_defineProperty(_class,"errorJSON",{"en-US":{character:{equal:"Please enter exactly ${equalLength} character(s)",max:"Please enter at most ${maxLength} character(s)",min:"Please enter at least ${minLength} character(s)"},email:"Please enter a valid email address",number:{equal:"Please enter exactly the number ${equalLength}",max:"please enter a number lower than or equal than ${minLength}",min:"please enter a number greater than or equal than ${minLength}",number:"Please enter a number",range:"Please enter a number between ${minLength} and ${maxLength}"},password:{confirmation:"Passwords must be the same"},required:"This field is required"},"en-EN":{character:{equal:"Please enter exactly ${equalLength} character(s)",max:"Please enter at most ${maxLength} character(s)",min:"Please enter at least ${minLength} character(s)"},email:"Please enter a valid email address",number:{equal:"Please enter exactly the number ${equalLength}",max:"please enter a number lower than or equal than ${minLength}",min:"please enter a number greater than or equal than ${minLength}",number:"Please enter a number",range:"Please enter a number between ${minLength} and ${maxLength}"},password:{confirmation:"Passwords must be the same"},required:"This field is required"},"fr-FR":{character:{equal:"Veuillez entrer exactement ${equalLength} caract\xE8re(s)",max:"Veuillez saisir au plus ${maxLength} caract\xE8re(s)",min:"Veuillez saisir au moins ${minLength} caract\xE8re(s)"},email:"Veillez saisir une adresse email valide",number:{equal:"Veuillez saisir exactement le nombre ${equalLength}",max:"veuillez saisir un nombre inf\xE9rieur ou \xE9gale \xE0 ${minLength}",min:"veuillez saisir un nombre sup\xE9rieur ou \xE9gale \xE0 ${minLength}",number:"Veillez saisir un nombre",range:"Veuillez saisir un nombre compris entre ${minLength} et ${maxLength}"},password:{confirmation:"Les mots de passe doivent \xEAtre les m\xEAmes"},required:"Ce champ est requis"}}),_temp),DomTool:(_temp2=_class2=class DomTool{constructor(){}static getUniqueId(){const a=0|4294967295*Math.random(),b=0|4294967295*Math.random(),c=0|4294967295*Math.random(),d=0|4294967295*Math.random();return this.TABLE_OF_256_HEXADECIMAL[255&a]+this.TABLE_OF_256_HEXADECIMAL[255&a>>8]+this.TABLE_OF_256_HEXADECIMAL[255&a>>16]+this.TABLE_OF_256_HEXADECIMAL[255&a>>24]+"-"+this.TABLE_OF_256_HEXADECIMAL[255&b]+this.TABLE_OF_256_HEXADECIMAL[255&b>>8]+"-"+this.TABLE_OF_256_HEXADECIMAL[64|15&b>>16]+this.TABLE_OF_256_HEXADECIMAL[255&b>>24]+"-"+this.TABLE_OF_256_HEXADECIMAL[128|63&c]+this.TABLE_OF_256_HEXADECIMAL[255&c>>8]+"-"+this.TABLE_OF_256_HEXADECIMAL[255&c>>16]+this.TABLE_OF_256_HEXADECIMAL[255&c>>24]+this.TABLE_OF_256_HEXADECIMAL[255&d]+this.TABLE_OF_256_HEXADECIMAL[255&d>>8]+this.TABLE_OF_256_HEXADECIMAL[255&d>>16]+this.TABLE_OF_256_HEXADECIMAL[255&d>>24]}static jfv(a,b=""){if(a===void 0||null===a)return""===b?[]:void 0;if(""===b){const b=Object.entries($(a)[0].attributes).map(a=>[a[1].name,a[1].value]).filter(b=>/jfv/.test(b[0]));return 0===b.length?[]:b.map(b=>b[0].replace("jfv-",""))}const c=new RegExp("jfv-"+b),d=Object.entries($(a)[0].attributes).map(a=>[a[1].name,a[1].value]).filter(b=>c.test(b[0]));return 0===d.length?void 0:d[0][1]}static hasErrorMessage(a){return 2===document.querySelectorAll(`[jfv-id='${jfv(a,"id")}']`).length}static createErrorNode(a,b){const c=document.createElement("h6");return c.classList.add("jfv-error-message"),c.classList.add("jfv-display-error-message"),c.innerHTML=b,c.setAttribute("jfv-id",jfv(a,"id")),c}static updateErrorMessage(a,b){const c=this.getErrorHtmlElement(a);c&&(""===b?this.removeErrorMessage(a):c.innerHTML=b)}static removeErrorMessage(a){const b=this.getErrorHtmlElement(a);b&&b.remove()}static getErrorHtmlElement(a){const b=document.querySelectorAll(`[jfv-id='${jfv(a,"id")}']`);return 2===b.length?b[1]:null}static setJfvIdAttribute(a){null===a.getAttribute("jfv-id")&&a.setAttribute("jfv-id",this.getUniqueId())}},_defineProperty(_class2,"TABLE_OF_256_HEXADECIMAL",function(){const a=[];for(let b=0;256>b;b++)a[b]=(16>b?"0":"")+b.toString(16);return a}()),_temp2),Validator:class{constructor(){}static emptyChecker(a){return 510<a.value.length?[!1,`Please enter at most 510 character(s)`]:[!0,""]}static emailChecker(a){return!0===/^[a-z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,6}$/i.test(a.value)?[!0,""]:[!1,JFV_ERROR_MESSAGE.getValueOfKey("email")]}static requiredChecker(a){return 0>=a.value.length?[!1,JFV_ERROR_MESSAGE.getValueOfKey("required")]:[!0,""]}static numberChecker(a){const b=/^[+-]?\d+(\.\d+)?$/.test(a.value)?[!0,""]:[!1,JFV_ERROR_MESSAGE.getValueOfKey("number.number")];let c=[!0,""],d=+jfv(a,"min"),e=+jfv(a,"max");const f=+a.value,g=new JFV.Extractor("");if(d||e)c=d&&e?f>=d&&f<=e?[!0,""]:[!1,g.reset(JFV_ERROR_MESSAGE.getValueOfKey("number.range")).setValue("minLength",d).setValue("maxLength",e).getValue]:d?f>=d?[!0,""]:[!1,g.reset(JFV_ERROR_MESSAGE.getValueOfKey("number.min")).setValue("minLength",d).getValue]:f<=e?[!0,""]:[!1,g.reset(JFV_ERROR_MESSAGE.getValueOfKey("number.max")).setValue("maxLength",e).getValue];else{let b=jfv(a,"equal");b&&(c=f<=e?[!0,""]:[!1,g.reset(JFV_ERROR_MESSAGE.getValueOfKey("number.equal")).setValue("equalLength",b).getValue])}return!b[0]&&c[0]?b:b[0]&&!c[0]?c:b[0]||c[0]?[!0,""]:c}static passwordConfirmationChecker(a){const b=document.getElementById(jfv(a,"ref"));return b||console.error("An error occur: the value of jfv-ref attribute of confirmation password must be an valid id of a HTMLElement"),a.value===b.value?[!0,""]:[!1,JFV_ERROR_MESSAGE.getValueOfKey("password.confirmation")]}static minMaxCheckerCharacter(a){const b=+a.value.length,c=+jfv(a,"min"),d=+jfv(a,"max"),e=new JFV.Extractor("");return b<c?[!1,e.reset(JFV_ERROR_MESSAGE.getValueOfKey("character.min")).setValue("minLength",c).getValue]:b>d?[!1,e.reset(JFV_ERROR_MESSAGE.getValueOfKey("character.max")).setValue("maxLength",d).getValue]:[!0,""]}static phoneChecker(a){let b=a.value.length;return void 0!==jfv(a,"optional")&&""===a.value?[!0,""]:9>b||9<b?[!1,"Le num\xE9ro doit avoir exactement 9 chiffres"]:/^(2|6)[0-9]{8}$/ig.test(a.value)?[!0,""]:[!1,"Veuillez entrer un num\xE9ro au format camerounais"]}static equalChecker(a){let b=+a.value.length,c=+jfv(a,"equal")?+jfv(a,"equal"):2,d=new JFV.Extractor(JFV_ERROR_MESSAGE.getValueOfKey("character.max"));return b===c?[!0,""]:[!1,d.setValue("equalLength",c).getValue]}}},JFV_ERROR_MESSAGE=new JFV.ErrorMessage,JFV_DOM_TOOLS=JFV.DomTool,jfv=JFV_DOM_TOOLS.jfv,JFV_VALIDATOR=JFV.Validator,JFV_EVENT_ITEM_ARR={FOCUS:new Set,KEYUP:new Set};function setValidIndicator(a){if(JFV_DOM_TOOLS.removeErrorMessage(a[0]),a.removeClass(validationCLass.input[1],validationCLass.input[2]),a.addClass(validationCLass.input[0]),jfv(a,"label")){let b=$("label[for="+jfv(a,"label")+"]");0>=b.length&&(b=$("#"+jfv(a,"label")));try{b.removeClass(validationCLass.label[1],validationCLass.label[2]),b.addClass(validationCLass.label[0])}catch(a){}}}function setInvalidIndicator(a,b,c,d=!1){if(d?(a.removeClass(validationCLass.input[0],validationCLass.input[2]),a.addClass(validationCLass.input[1])):(a.removeClass(validationCLass.input[0],validationCLass.input[1]),a.addClass(validationCLass.input[2])),jfv(a,"label"))try{let b=$("label[for="+jfv(a,"label")+"]");0>=b.length&&(b=$("#"+jfv(a,"label"))),d?(b.removeClass(validationCLass.label[0],validationCLass.label[2]),b.addClass(validationCLass.label[1])):(b.removeClass(validationCLass.label[0],validationCLass.label[1]),b.addClass(validationCLass.label[2]))}catch(a){}setInvalidErrorMessage(a[0],b,d,c),a[0].scrollIntoView({block:"center",behavior:"smooth"})}function setInvalidErrorMessage(a,b,c,d){if(JFV_DOM_TOOLS.hasErrorMessage(a))JFV_DOM_TOOLS.updateErrorMessage(a,b);else{const c=JFV_DOM_TOOLS.createErrorNode(a,b);insertAfter(c,a,d)}}function insertAfter(a,b,c=!1){c?insertAfter(a,b.parentNode):b.parentNode.insertBefore(a,b.nextSibling)}function removeErrorMessage(){$(".jfv-display-error-message").remove()}function once(a,b){let c;return function(){return a&&(c=a.apply(b||this,arguments),a=null),c}}function secondTypeValidator(a){let b=jfv(a,"type");return"required"===b?JFV_VALIDATOR.requiredChecker(a):"empty"===b?JFV_VALIDATOR.emptyChecker(a):"range"===b?JFV_VALIDATOR.minMaxCheckerCharacter(a):"equal"===b?JFV_VALIDATOR.equalChecker(a):"number"===b?JFV_VALIDATOR.numberChecker(a):[!0,""]}function inputValidator(a,b=!1){let c=[!0,""],d=a.getAttribute("type"),e=!1;switch(a.tagName){case"INPUT":jfv(a,"optional")&&""===a.value?c=[!0,""]:"email"===d?c=JFV_VALIDATOR.emailChecker(a):"number"===d?c=JFV_VALIDATOR.numberChecker(a):jfv(a,"type")&&"password"===jfv(a,"type")?(e=!0,c=jfv(a,"ref")?JFV_VALIDATOR.passwordConfirmationChecker(a):JFV_VALIDATOR.minMaxCheckerCharacter(a)):"text"===d&&jfv(a,"type")&&(c=secondTypeValidator(a));break;case"TEXTAREA":jfv(a,"type")&&(c=secondTypeValidator(a));break;case"SELECT":c=[!0,""];break;default:c=[!0,""];}return!0===c[0]?setValidIndicator($(a)):setInvalidIndicator($(a),c[1],e,b),c[0]}function validator(a,b=!1){let c=[];if(0<a.length&&"FORM"===a.tagName){const d=a.querySelectorAll("input, textarea");for(const a of d.values())jfv(a,"validate")||a.getAttribute("type")&&"hidden"!==a.getAttribute("type")&&"file"!==a.getAttribute("type")&&(JFV_DOM_TOOLS.setJfvIdAttribute(a),!JFV_EVENT_ITEM_ARR.FOCUS.has(jfv(a,"id"))&&(a.addEventListener("focus",function(){inputValidator(a)}),JFV_EVENT_ITEM_ARR.FOCUS.add(jfv(a,"id"))),!JFV_EVENT_ITEM_ARR.KEYUP.has(jfv(a,"id"))&&(a.addEventListener("keyup",function(){inputValidator(a)}),JFV_EVENT_ITEM_ARR.KEYUP.add(jfv(a,"id"))),b&&(inputValidator(a,!0)?c.push(!0):c.push(!1)));return c.every(b=>!0===b)}}function runValidator(){let a=!1;const b=document.querySelectorAll(".jfv-form");for(const c of b.values())validator(c,!1),"true"===jfv(c,"ajax")&&(a=!0),c.addEventListener("submit",function(b){b.preventDefault(),validator(c,!0)?!a&&b.currentTarget.submit():b.stopImmediatePropagation()})}runValidator();
